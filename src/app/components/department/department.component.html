<div class="deptMain">
    <div class="headings">
        <h2>Departments</h2>
        <h3>Total Number of Employess : {{totalEmp}}</h3>
    </div>
    <div class="cardsMain" *ngFor="let item of deptList" (click)="onItemChange(item)">
        <span class="number">2</span>
        <span class="dept">{{item}}</span>
    </div>
</div>

<div class="overlay" *ngIf="openPopup">
    <div class="popup">
        <div class="content">
            <h4>Employees from <span style="color: #469a7c;">{{deptName}}</span>  department</h4>
            <div class="tablePopup">
                <table class="popupTable">
                    <thead>
                        <tr>
                            <th class="popupTh">Name</th>
                            <th class="popupTh">Email</th>
                            <th class="popupTh">Employee Id</th>
                            <th class="popupTh">Phone Number</th>
                            <th class="popupTh">Actions</th>
                        </tr>
                    </thead>
                    <tbody class="tbodyHeight">
                        <tr *ngFor="let item of userList | paginate
                        : {
                            itemsPerPage: tableSize,
                            currentPage: page,
                            totalItems: count
                          }" style="padding: 1rem;">
                            <td class="popupTd">{{item.name}}</td>
                            <td class="popupTd">{{item.email}}</td>
                            <td class="popupTd">{{item.empId}}</td>
                            <td class="popupTd">{{item.phoneNumber}}</td>
                            <td class="popupTd actionBtns">
                                <button class="tablePopupEdit" [routerLink]="[ '/updateUser', item._id ]"> <i class="fa fa-paper-plane-o"></i> Edit</button>
                                <button class="tablePopupDelete" (click)="selectUser(item)"> <i class="fa fa-trash-o"></i> Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div class="paginationNum">
                <pagination-controls class="paginationMain" previousLabel="Prev" nextLabel="Next"
                    (pageChange)="onTableDataChange($event)">
                </pagination-controls>
                <div class="selectPage">
                    <select (change)="onTableSizeChange($event)">
                        <option *ngFor="let size of tableSizes">
                            {{size}}
                        </option>
                    </select>
                </div>
            </div>
            <div class="popupBtns">
                <button class="popupCancel" (click)="openPopup = false">Cancel</button>
            </div>
        </div>
    </div>
</div>

<div class="overlay" *ngIf="openDeletePopup">
    <div class="popup">
        <div class="content">
            <h4>You want to delete the record of <span> {{deleteUserName}} ?</span></h4>
            <div class="popupBtns">
                <button type="cancel" class="popupCancel" (click)="openDeletePopup = false">Cancel</button>
                <button type="button" class="popupDelete" (click)="deleteUser()">Delete</button>
            </div>
        </div>
    </div>
</div>